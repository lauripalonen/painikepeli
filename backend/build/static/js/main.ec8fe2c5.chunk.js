(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),u=n.n(c),s=n(16),o=n(1),i=n.n(o),l=n(2),p=n(5),f=n(4),m=n.n(f),v={login:function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("/api/users","/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={signup:d,updatePlayerPoints:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put("".concat("/api/users","/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPlayer:w},g={increment:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put("".concat("/api/button","/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getButton:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/button");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getButtonPresses:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/button");case 2:return t=e.sent,e.abrupt("return",t.data.presses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},b=function(e){var t=e.handleUsernameChange,n=e.handlePasswordChange,r=e.username,c=e.password;return a.a.createElement("div",null,a.a.createElement("h2",null,"Account"),a.a.createElement("form",null,a.a.createElement("label",{htmlFor:"username"},"Username "),a.a.createElement("br",null),a.a.createElement("input",{type:"text",value:r,name:"Username",onChange:t}),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"password"},"Password "),a.a.createElement("br",null),a.a.createElement("input",{type:"password",value:c,name:"Password",onChange:n})))},E=function(e){var t=e.handleButtonPress;return a.a.createElement("div",null,a.a.createElement("button",{onClick:t},"The Button"))},x=function(){var e=Object(r.useState)(null),t=Object(p.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)(""),o=Object(p.a)(u,2),f=o[0],m=o[1],d=Object(r.useState)(""),w=Object(p.a)(d,2),x=w[0],k=w[1],O=Object(r.useState)(null),y=Object(p.a)(O,2),j=y[0],S=y[1],P=Object(r.useState)(""),C=Object(p.a)(P,2),B=C[0],U=C[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedPainikepeliUser");if(e){var t=JSON.parse(e);c(t),S(t.points),F()}}),[]);var J=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.login({username:f,password:x});case 4:n=e.sent,window.localStorage.setItem("loggedPainikepeliUser",JSON.stringify(n)),c(n),S(n.points),F(),m(""),k(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.signup({username:f,password:x});case 4:n=e.sent,window.localStorage.setItem("loggedPainikepeliUser",JSON.stringify(n)),c(n),S(n.points),F(),m(""),k(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),localStorage.clear(),c(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g.getButton();case 3:return n=e.sent,r={presses:n.presses+1},e.next=7,g.increment(n.id,r);case 7:return e.next=9,R();case 9:F();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r,a,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(window.localStorage.getItem("loggedPainikepeliUser")),r=Object(s.a)({},t,{points:t.points<1?0:t.points-1}),a=r.points,S(a),e.next=6,g.getButtonPresses();case 6:return u=e.sent,r.points<1?window.confirm("No more points. Start again with 20 points?")?(a=20,S(20)):(localStorage.clear(),c(null)):u%500===0?(console.log("Reward player with 250 points"),a+=250,S(r.points)):u%100===0?(console.log("Reward player with 40 points"),a+=40,S(r.points)):u%10===0&&(console.log("Reward player with 5 points"),a+=5,S(r.points)),r.points=a,S(r.points),e.next=12,h.updatePlayerPoints(n.id,r);case 12:window.localStorage.setItem("loggedPainikepeliUser",JSON.stringify(r));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getButtonPresses();case 2:t=e.sent,U(10-t%10);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"content"},a.a.createElement("div",null,a.a.createElement("h1",null,"Button the Game")),a.a.createElement("div",null,null===n?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(b,{handleSubmit:J,handleUsernameChange:function(e){var t=e.target;return m(t.value)},handlePasswordChange:function(e){var t=e.target;return k(t.value)},username:f,password:x})),a.a.createElement("div",null,a.a.createElement("button",{onClick:J},"Log in")," or ",a.a.createElement("button",{onClick:N},"Sign up"))):a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(E,{handleButtonPress:D})),a.a.createElement("div",null,"Your points: ",j," ",a.a.createElement("br",null),"Clicks until next reward: ",B),a.a.createElement("div",null,a.a.createElement("p",null,"every 10th click: +5 points ",a.a.createElement("br",null),"every 100th click: +40 points ",a.a.createElement("br",null),"every 500th click: +250 points ",a.a.createElement("br",null),"one click: -1 point")),a.a.createElement("div",null,a.a.createElement("button",{onClick:I},"Log out")))))};n(40);u.a.render(a.a.createElement(x,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.ec8fe2c5.chunk.js.map