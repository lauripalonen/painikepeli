(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),s=n.n(c),u=n(16),o=n(1),l=n.n(o),i=n(2),p=n(5),m=n(4),f=n.n(m),d={login:function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("/api/users","/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={signup:v,updatePlayerPoints:function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat("/api/users","/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPlayer:b},w={increment:function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat("/api/button","/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getButton:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/button");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getButtonPresses:function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/button");case 2:return t=e.sent,e.abrupt("return",t.data.presses);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},g=function(e){var t=e.handleUsernameChange,n=e.handlePasswordChange,a=e.username,c=e.password;return r.a.createElement("div",null,r.a.createElement("h2",null,"Player account"),r.a.createElement("form",{className:"inner-form"},r.a.createElement("label",{htmlFor:"username"},"Username "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:a,name:"Username",onChange:t,className:"input-field"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password "),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:c,name:"Password",onChange:n,className:"input-field"})))},E=function(e){var t=e.handleButtonPress;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t,id:"thebutton"},"PUSH"))},x=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(p.a)(s,2),m=o[0],f=o[1],v=Object(a.useState)(""),b=Object(p.a)(v,2),x=b[0],O=b[1],k=Object(a.useState)(null),y=Object(p.a)(k,2),j=y[0],N=y[1],P=Object(a.useState)(""),S=Object(p.a)(P,2),U=S[0],C=S[1],B=Object(a.useState)(""),I=Object(p.a)(B,2),J=I[0],G=I[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("loggedPainikepeliUser");if(e){var t=JSON.parse(e);c(t),N(t.points),T()}}),[]);var D=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.login({username:m,password:x});case 4:n=e.sent,window.localStorage.setItem("loggedPainikepeliUser",JSON.stringify(n)),c(n),N(n.points),T(),f(""),O(""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=e.t0.response.data.error,q(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.signup({username:m,password:x});case 4:n=e.sent,window.localStorage.setItem("loggedPainikepeliUser",JSON.stringify(n)),c(n),N(n.points),T(),f(""),O(""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=e.t0.response.data.error,q(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),localStorage.clear(),c(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,w.getButton();case 3:return n=e.sent,a={presses:n.presses+1},e.next=7,w.increment(n.id,a);case 7:return e.next=9,F();case 9:T();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(window.localStorage.getItem("loggedPainikepeliUser")),a=Object(u.a)({},t,{points:t.points<1?0:t.points-1}),r=a.points,N(r),e.next=6,w.getButtonPresses();case 6:return s=e.sent,a.points<1?window.confirm("No more points. Start again with 20 points?")?(r=20,N(20)):(localStorage.clear(),c(null)):s%500===0?(r+=250,N(a.points),q("250 points rewarded!")):s%100===0?(r+=40,N(a.points),q("40 points rewarded!")):s%10===0&&(r+=5,N(a.points),q("5 points rewarded!")),a.points=r,N(a.points),e.next=12,h.updatePlayerPoints(n.id,a);case 12:window.localStorage.setItem("loggedPainikepeliUser",JSON.stringify(a));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getButtonPresses();case 2:t=e.sent,C(10-t%10);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){G(e),setTimeout((function(){G("")}),5e3)};return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",null,r.a.createElement("h1",null,"Button ",r.a.createElement("br",null),"the Game")),r.a.createElement("div",null,null===n?r.a.createElement("div",{className:"account-form"},r.a.createElement("div",null,r.a.createElement(g,{handleSubmit:D,handleUsernameChange:function(e){var t=e.target;return f(t.value)},handlePasswordChange:function(e){var t=e.target;return O(t.value)},username:m,password:x,className:"user-form"})),r.a.createElement("div",{className:"button-block"},r.a.createElement("button",{onClick:D,className:"normal-button"},"LOG IN")," or ",r.a.createElement("button",{onClick:L,className:"normal-button"},"SIGN UP")),r.a.createElement("p",{style:{textAlign:"center"}},J)):r.a.createElement("div",null,r.a.createElement("div",{className:"game-content"},r.a.createElement(E,{handleButtonPress:A})),r.a.createElement("div",{className:"game-data"},"Your points: ",j," ",r.a.createElement("br",null),"Next reward in: ",U," pushes"),r.a.createElement("div",{className:"notification-bar"},J),r.a.createElement("div",{className:"instruction-block"},r.a.createElement("h4",null,"Instructions: "),r.a.createElement("p",{className:"instructions"},"* Push the button to gain rewards ",r.a.createElement("br",null),"* Push cost: 1 point ",r.a.createElement("br",null),"* Lose all points: Game over!",r.a.createElement("br",null),r.a.createElement("br",null),"You can start again with 20 points ",r.a.createElement("br",null)),r.a.createElement("h4",null,"Rewards: "),r.a.createElement("p",{className:"instructions"},"* every 10th click: +5 points ",r.a.createElement("br",null),"* every 100th click: +40 points ",r.a.createElement("br",null),"* every 500th click: +250 points ",r.a.createElement("br",null)),r.a.createElement("p",{className:"quote"},'"You win some, you lose some!"')),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("button",{onClick:Y,className:"normal-button"},"LOG OUT")))))};n(40);s.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.12187c02.chunk.js.map